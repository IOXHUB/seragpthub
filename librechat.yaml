# LibreChat Configuration File
version: 1.2.0

cache: true

# File upload settings
fileConfig:
  endpoints:
    assistants:
      fileLimit: 5
      fileSizeLimit: 10
      totalSizeLimit: 50
      supportedMimeTypes:
        - "image/.*"
        - "application/pdf"
    openAI:
      disabled: false
      fileLimit: 5
      fileSizeLimit: 10
      supportedMimeTypes:
        - "image/.*"
        - "application/pdf"
    default:
      totalSizeLimit: 20
  serverFileSizeLimit: 100
  avatarSizeLimit: 2

# MCP (Model Context Protocol) Configuration
mcp:
  # Enable MCP support
  enabled: true
  
  # Available MCP servers
  servers:
    # File system operations
    filesystem:
      command: "npx"
      args: ["@modelcontextprotocol/server-filesystem"]
      env:
        ALLOWED_DIRECTORIES: "./uploads,./documents"
      
    # Web search capabilities  
    brave_search:
      command: "npx"
      args: ["@modelcontextprotocol/server-brave-search"]
      env:
        BRAVE_API_KEY: "${BRAVE_API_KEY}"
    
    # GitHub integration
    github:
      command: "npx"
      args: ["@modelcontextprotocol/server-github"]
      env:
        GITHUB_PERSONAL_ACCESS_TOKEN: "${GITHUB_TOKEN}"
    
    # Database operations
    postgres:
      command: "npx"
      args: ["@modelcontextprotocol/server-postgres"]
      env:
        POSTGRES_CONNECTION_STRING: "postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}"
    
    # Memory and notes
    memory:
      command: "npx"
      args: ["@modelcontextprotocol/server-memory"]
      
    # Slack integration
    slack:
      command: "npx"
      args: ["@modelcontextprotocol/server-slack"]
      env:
        SLACK_BOT_TOKEN: "${SLACK_BOT_TOKEN}"
        SLACK_SIGNING_SECRET: "${SLACK_SIGNING_SECRET}"

# Available endpoints/models
endpoints:
  # OpenAI Configuration
  openAI:
    titleConvo: true
    titleModel: "gpt-4o-mini"
    summarize: false
    summaryModel: "gpt-4o-mini"
    forcePrompt: false
    modelDisplayLabel: "OpenAI"
    models:
      default:
        - "gpt-4o"
        - "gpt-4o-mini"
        - "gpt-4"
        - "gpt-4-turbo"
        - "gpt-3.5-turbo"
      fetch: true

  # Anthropic Claude Configuration  
  anthropic:
    titleConvo: true
    titleModel: "claude-3-haiku-20240307"
    modelDisplayLabel: "Anthropic"
    models:
      default:
        - "claude-3-5-sonnet-20241022"
        - "claude-3-5-haiku-20241022"
        - "claude-3-haiku-20240307"
        - "claude-3-sonnet-20240229"
      fetch: false

  # Google AI Configuration
  google:
    titleConvo: true
    titleModel: "gemini-pro"
    modelDisplayLabel: "Google"
    models:
      default:
        - "gemini-1.5-pro-latest"
        - "gemini-1.5-flash-latest"
        - "gemini-pro"
      fetch: false

  # xAI Grok Configuration
  grok:
    titleConvo: true
    titleModel: "grok-beta"
    modelDisplayLabel: "xAI Grok"
    baseURL: "https://api.x.ai/v1"
    models:
      default:
        - "grok-beta"
        - "grok-vision-beta"
      fetch: false

# Interface customization
interface:
  privacyPolicy:
    externalUrl: "https://librechat.ai/privacy-policy"
    openNewTab: true
  termsOfService:
    externalUrl: "https://librechat.ai/terms-of-service"
    openNewTab: true

# Registration and login
registration:
  socialLogins: ["discord", "facebook", "github", "google", "openid"]
  allowedDomains:
    - "@gmail.com"
    - "@protonmail.com"
    - "@outlook.com"

# Rate limiting
rateLimits:
  fileUploads:
    ipMax: 100
    ipWindowInMinutes: 60
    userMax: 50
    userWindowInMinutes: 60
  conversationsImport:
    ipMax: 100
    ipWindowInMinutes: 60
    userMax: 30
    userWindowInMinutes: 60

# AI model parameters
modelSpecs:
  enforce: false
  openai:
    "gpt-4o":
      maxTokens: 4096
      promptTokens: 128000
    "gpt-4":
      maxTokens: 4096
      promptTokens: 8192
  anthropic:
    "claude-3-5-sonnet-20241022":
      maxTokens: 8192
      promptTokens: 200000
